---
import { SITE, SIDEBAR } from "../config";
import HeadCommon from "../components/HeadCommon.astro";
import HeadSEO from "../components/HeadSEO.astro";
import "../styles/main.scss";

const { content = {} } = Astro.props;
// SIDEBARからheader=trueのものを取得
const navItems = SIDEBAR.filter((item) => item.header);
---

<html
  dir={content.dir ?? "ltr"}
  lang={content.lang ?? SITE.defaultLanguage}
  class="initial"
>
  <head>
    <HeadCommon />
    <HeadSEO {content} />
    <title>
      {SITE.title}
    </title>
  </head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-2PLQ9T3RQE"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(...args: any[]) {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-2PLQ9T3RQE");
  </script>

  <div class="bg-slate-100 min-h-screen text-center">
    <!-- nabItemsのaタグの色を変えないように、ここに`.content`を付与 -->
    <header
      class="pt-12 pb-24 px-4 bg-gradient-to-br from-slate-700 to-black content"
    >
      <div class="flex items-center justify-center p-4">
        <div class="text-slate-300">
          <svg
            width="256px"
            height="256px"
            viewBox="0 0 256 256"
            preserveAspectRatio="xMidYMid meet"
          >
            <use xlink:href="/icons/kzk4043-logo.svg#horse"></use>
          </svg>
        </div>
      </div>
      <h1 class="font-sans text-white text-4xl font-medium drop-shadow-sm">
        {SITE.title}
      </h1>
      <!-- aタグがホバーされたときにsvgだけ色を変える -->
      <style>
        a:hover svg {
          color: #ffa500;
        }
      </style>
      <p class="text-lg mt-4 text-slate-300">
        {SITE.description}（ <a href="rss.xml">
          <svg
            class="h-5 w-5 text-slate-500 inline"
            width="256px"
            height="256px"
            viewBox="0 0 8 8"
            preserveAspectRatio="xMidYMid meet"
          >
            <use xlink:href="/icons/rss.svg#rss"></use>
          </svg> RSS feed
        </a>）<br />
         kzk4043のポートフォリオ（別サイト）は<a
          href={SITE.portfolio}
          class="text-link">こちら</a
        >
      </p>
    </header>
    <nav class="p-12">
      <ul class="flex gap-4 max-w-5xl mx-auto text-left">
        {
          navItems.map(({ text, description, url, image }) => (
            <a
              href={url}
              class="flex flex-col bg-white rounded-md hover:-translate-y-1 hover:shadow-lg transition-all flex-1 items-center p-4"
            >
              <img src={image || "/icons/kzk4043-logo.svg"} alt={text} />
              <h2 class="text-lg font-medium">{text}</h2>
              <p class="text-slate-500">{description}</p>
            </a>
          ))
        }
      </ul>
    </nav>
  </div>
  <script is:inline></script>
</html>
